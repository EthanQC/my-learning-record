## TCP

* time_wait 是什么，这种状态是怎么出现的

* 如果站在网络的 TCP 协议层面去看的话，time_wait 是在什么情况下产生的

* 你能讲一下 TCP 四次挥手的详细过程吗

* time_wait 会出现在连接的哪一方？

* 那如果站在 TCP 连接层面来看的话，要解决 time_wait 连接数很多的问题，最直接的方式是怎么去优化



## TCP 与 UDP
#### TCP 头格式有哪些？



#### Q：为什么需要 TCP 协议？TCP 工作在哪一层？



#### Q：什么是 TCP？



#### Q：什么是 TCP 连接？



#### Q：如何唯一确定一个 TCP 连接呢？



#### Q：你知道 TCP 和 UDP 吗？它们的区别是什么？分别的应用场景是？



#### Q：TCP 和 UDP 可以使用同一个端口吗？



#### Q：TCP 三次握手过程是什么样的？



#### Q：如何在 Linux 系统中查看 TCP 状态？



#### Q：为什么 TCP 是三次握手而不是两次或者四次？



#### Q：为什么每次建立 TCP 连接时，初始化的序列号都要求不一样呢？



#### Q：初始序列号 ISN 是如何随机产生的？



#### Q：既然 IP 层会分片，为什么 TCP 层还需要 MSS 呢？



#### Q：第一次握手如果丢失了，会发生什么？



#### Q：第二次握手如果丢失了，会发生什么？



#### Q：第三次握手如果丢失了，会发生什么？



#### Q：什么是 SYN 攻击？该如何避开？



#### Q：TCP 四次挥手的过程是什么样的？为什么是四次而不是三次或五次？



#### Q：第一次挥手丢失了，会发生什么？



#### Q：第二次挥手丢失了，会发生什么？



#### Q：第三次挥手丢失了，会发生什么？



#### Q：第四次挥手丢失了，会发生什么？



#### Q：为什么 TIME_WAIT 等待的时间是 2 MSL？



#### Q：为什么需要 TIME_WAIT 状态？



#### Q：TIME_WAIT 过多有什么危害？



#### Q：如何优化 TIME_WAIT？



#### Q：服务器出现大量 TIME_WAIT 状态的原因有哪些？



#### Q：服务器出现大量 CLOSE_WAIT 状态的原因有哪些？



#### Q：如果已经建立了连接，但是客户端突然出现故障了怎么办？



#### Q：如果已经建立了连接，但是服务端的进程崩溃会发生什么？



#### Q：针对 TCP 应该如何 Socket 编程？



#### Q：listen 时候参数 backlog 的意义？



#### Q：accept 发生在三次握手的哪一步？



#### Q：客户端调用 close 了，连接是断开的流程是什么？



#### Q：没有 accept，能建立 TCP 连接吗？



#### Q：没有 listen，能建立 TCP 连接吗？



#### Q：TCP 的重传、滑动窗口、流量控制和拥塞控制分别是什么？详细说说



#### TCP 的流量和拥塞控制分别是怎么实现的？



#### Q：什么是 TCP 队头阻塞问题？



#### Q：什么是 TCP 半连接队列和全连接队列？



#### Q：如何优化 TCP？



#### Q：如何理解 TCP 是面向字节流协议？如何理解字节流？如何解决粘包？



#### Q：为什么 TCP 每次建立连接时，初始化序列号都要不一样呢？



#### Q：SYN 报文什么时候情况下会被丢弃？



#### Q：已建立连接的TCP，收到SYN会发生什么？



#### Q：如何关闭一个 TCP 连接？



#### Q：四次挥手中收到乱序的 FIN 包会如何处理？



#### Q：在 TIME_WAIT 状态的 TCP 连接，收到 SYN 后会发生什么？



#### Q：在 TIME_WAIT 状态的 TCP 连接，收到 RST 会断开连接吗？



#### Q：TCP 连接，一端断电和进程崩溃有什么区别？



#### Q：拔掉网线后， 原本的 TCP 连接还存在吗？



#### Q：tcp_tw_reuse 为什么默认是关闭的？什么是 TIME_WAIT 状态？为什么要设计 TIME_WAIT 状态？tcptwreuse 是什么？为什么 tcptwreuse 默认是关闭的？



#### Q：HTTPS 中 TLS 和 TCP 能同时握手吗？



#### Q：TCP Keepalive 和 HTTP Keep-Alive 是一个东西吗？



#### Q：TCP 协议有什么缺陷？


TCP 连接如何确保可靠性？


#### Q：如何基于 UDP 协议实现可靠传输？



#### Q：QUIC 是如何实现可靠传输的？



#### Q：QUIC 是如何解决 TCP 队头阻塞问题的？



#### Q：QUIC 是如何做流量控制的？



#### Q：QUIC 是如何迁移连接的？



#### Q：TCP 和 UDP 可以使用同一个端口吗？TCP 和 UDP 可以同时绑定相同的端口吗？



#### Q：多个 TCP 服务进程可以绑定同一个端口吗？



#### Q：客户端的端口可以重复使用吗？



#### Q：服务端没有 listen，客户端发起连接建立，会发生什么？



#### Q：不使用 listen ，可以建立 TCP 连接吗？



#### Q：没有 accept，能建立 TCP 连接吗？



#### Q：用了 TCP 协议，数据一定不会丢吗？如果会的话，该怎么解决？



#### Q：TCP 四次挥手，可以变成三次吗？什么情况会出现三次挥手？



#### Q：TCP 序列号和确认号是如何变化的？



* TCP 滑动窗口机制是如何工作的？它在流量控制中有什么作用？

* TCP 拥塞控制中的慢启动、拥塞避免、快重传和快恢复阶段分别是什么？它们的作用是什么？

* 什么是网络拥塞？TCP 是如何应对网络拥塞的？