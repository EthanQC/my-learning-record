---
title: operation system
date: '2025-09-11'
tags:
  - interview-questions
summary: >-
  **A（自己回答）：**
  进程是由操作系统调度的，每个进程有自己的内存地址和占用资源，线程是在进程内创建的，一个进程内可以有多个线程，多个线程之间共享进程的内存地址，但也有自己独有的资源占用
---

# 操作系统
#### 操作系统中的用户态和内核态分别是什么？

## 锁


**Q：如果续锁失败了怎么办**

A：如果续锁失败，首先就是要立刻停止依赖该锁的后续逻辑，避免多个实例同时操作同一资源，捕获续锁失败的错误后返回给上层，让调用链立刻回滚或降级，然后要清理本地可能存在的一些准备好的上下文或预占用资源，比如关闭数据库事务、归还连接、删除临时文件等，业务操作要尽量设计成幂等，即使多次失败重试也不会出现重复或丢失，接着就是续锁失败要写入日志并触发告警，最后就是对业务逻辑数据做异步补偿，比如把未处理的玩家操作写入消息队列，后台再重试，然后借助有限次重试，在几次重试都失败后才彻底放弃，避免持续占用锁资源

* 什么是互斥锁（mutex）？在什么情况下会用到它们？（联系 go 语言中的实际应用）

* 互斥锁有几种模式？有几种状态？

## 内存与磁盘
**Q：Cache 是什么，它具体是怎么工作的，怎么跟内存合作？**

A：

**Q：既然提到了内存，你知道虚拟内存吗？**

A：

**Q：既然提到了磁盘，内存和磁盘是怎么合作的？若内存中没找到数据会怎么样？**

A：

## 系统调度
**Q：打开一个程序会发生什么**

A：首先内核会创建子进程，并为子进程查找并打开可执行文件，校验访问权限和文件完整性，然后内核会为子进程分配内存空间，加载可执行文件到内存中，并为其分配栈、堆和数据段等内存区域；接着内核会设置进程的状态、优先级和调度策略，然后将 CPU 的控制权转交给子进程，把 CPU 权限从内核态切回用户态，开始执行程序的入口函数；在执行过程中，内核会根据需要进行系统调用，处理 I/O 操作、内存管理和进程调度等任务；当程序执行完毕或遇到异常时，内核会清理资源并终止进程

**Q：电脑参数常说的几核几线程是什么意思，常说的电脑是多少核，真的会有这么多核吗**

A：常说的几核几线程是指 CPU 拥有的物理核心数和每个核心能同时处理的硬件线程数，比如一颗四核八线程的处理器就意味着它有四个物理核心，每个核心支持两条并发的执行线程，也就是支持超线程技术，多核可以提升并发处理能力，而多线程则提高了每个核心的利用率，尤其是在等待 IO、分支预测失误时更能保持吞吐，现在主流的笔记本一般是四核八线程或八核十六线程，高端一些的服务器甚至可以达到六十四核一二八线程，所以确实是会有这么多核，像在 go 里面调 GOMAXPROCS 这个参数实际上也是为了更好的调度核心

## Linux 
**Q：你具体在什么项目里用到了 epoll？你是如何编写事件循环、处理 socket 可读写事件的？**

A：

**Q：epoll 的 LT（Level Trigger）和 ET（Edge Trigger）模式有何区别？在高并发服务器里为什么更倾向用 ET 模式？**

A：

**Q：如何避免 epoll 中的惊群效应？**

A：

**Q：你对 Linux 内核中进程、线程、文件描述符这些概念，能否简要解释一下它们的关系，以及底层是如何管理资源的？**

A：

* 你在做一些系统排查时最常用到的指令是什么？

* 对于 Linux 系统，进程间的通信方式是什么？

## 游戏开发
**Q：有了解过游戏开发中的多线程吗？**

A：

**Q：游戏开发中多线程的应用场景会有哪些？**

A：
