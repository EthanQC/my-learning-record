## STL小练习：分配员工
这是今天敲的一个小练习，基本描述如下：

某公司有十个员工（ABCDEFGHIJ），公司一共有三个部门，分别是策划、美术、研发，现在需要我们分别给员工随机分配部门和工资，通过multimap进行信息的插入（key：部门，value：员工），最后分部门显示员工信息，打印输出

### 需求拆解细分
- 创建员工类
  * 属性1：姓名
  * 属性2：工资
- 创建一个创建员工的函数，接收vector形参
  * 姓名种子库
  * for循环赋值
  * 创建一个vector容器，存入10名员工
- 创建一个分配员工并打印的函数，接收vector形参
  * 利用random库引入两个随机数，*random1*代表部门（**1到3**），*random2*代表工资（**5000到15000**）
  * 创建一个multimap空容器（**string：*部门*，string：*员工姓名***）
  * 创建一个for循环，每个员工单独赋值
  * 在for循环中，利用一个if语句为员工随机分配部门
    + `random1 == 1`时，分入策划部
    + `random1 == 2`时，分入美术部
    + `random1 == 3`时，分入研发部
    + 通过索引将每个员工随机赋给对应的部门
  * 在for循环中，用*random2*为每个员工的工资赋值
  * 利用`auto`和`equal_range`创建三个位置变量，`pos1`,`pos2`,`pos3`，每个变量分别记录每个部门所有成员的位置
  * 通过三个for循环分别打印输出每个部门下所有员工的姓名、工资
- 在main函数中实例化对象，传入函数中，分别调用两个函数

### 改进空间
>1. 打印时，可以创建一个包含所有部门名称的容器，然后用循环来遍历部门，减少代码重复
>
>2. 使用指针或引用来避免不必要的拷贝，比如更改multimap的值类型
>
>3. 将打印部分独立出来，重新封装成一个函数，避免第二个函数过于庞大
>
>4. 使用现代cpp特性

[完整代码](https://github.com/EthanQC/My-LearningHub-StudyJourney-with-cpp/blob/7793cd06d02e95010cbdf782546e2ebd7093ac81/2024.10.26/STL%20exercise%3A%20assign%20employees.md)

## 一些知识
### set/multiset（集合）容器

是一种关联式容器，set不允许容器中有重复的元素，即使调用插入不会报错，但实际并不会被插入，但multiset允许存在重复的元素。

集合容器底层是用二叉树实现的，即使传入的是无序数据，也会自动排序。

提供了一些接口，如`insert()`、`swap()`、`empty()`、`erase()`、`clear()`等，但没有push之类的接口，不过赋值可以像python里的集合数据结构一样，即{}。

### map/multimap（字典）容器

也是一种关联式容器，有没有multi的机制也跟set相同。

使用时需要指定两次数据结构，分别为 **键（key）**、**值（value）** 对应的类型，同样也会对传入的数据自动排序。

提供的接口和集合容器的基本相同，但`erase()`是按照键来删除，而不是值。也可以像python中对字典赋值那样赋值。

### pair

不太确定是不是容器，但确实是一种**成对的**数据结构，在使用时不需要额外包含头文件。

使用方式为`pair<int, int> p(1, 2)`，数据类型可任意改变。

提供了`make_pair()`接口，是另一种赋值方式，不过还是需要指定数据类型。但在字典容器中，`make_pair()`可用来给字典赋值，且无需指定数据类型。

## 碎碎念

今天主要是学习了set和map这两个容器，并敲了一个小练习。

感觉这两个容器还是挺常用的， 也有自己特殊的赋值方式。但那个练习耗费了我特别久，感觉起码有两个小时，但它其实根本没有那么难。

问题出在逻辑方面，因为我写这个练习之前其实并没有去写像我上面提供的那种需求细分和问题拆解，反而是边敲边想的，这就导致我的整体逻辑十分混乱，经常是拆了东墙补西墙，而这仅仅只是一个用来复习今天所学知识的小练习。

最后还是靠gpt才解决了我那无比混乱的逻辑问题，要不然我可能干脆推倒重写了。我是在最后打印那里又卡了很久，当有很多容器可供我选择时，我就会纠结**到底使用哪个、该不该使用哪个**，同时for循环和索引，以及对迭代器的不熟练使用也让我十分痛苦。

在问了gpt该如何反思总结后，我想我得出了下面的几点（其实上面改进空间那里也是问了gpt之后它告诉我的👉👈）：

- 先思后写：拿到需求之后，先不要急着写代码，而是像上面那样对需求进行要多细有多细的拆解，思考程序的结构和逻辑
- 逐步实现：先实现核心功能，再逐步添加其他特性
- 阶段性测试：每完成一个模块要及时进行测试，确保功能正确
- 保持代码整洁：使用有具体含义的变量名和函数名，并添加必要的注释，写注释也是让自己确认逻辑无误的方式

我想我下次应该就不会再毫无意义像无头苍蝇那样耗费那么久的时间了，从实际写代码的经历中知道了提前规划代码并不是浪费时间，而是省时间。就像高中时写数学题那样。

以后还会经常反思总结的！

另外我感觉一些知识那里，我每个知识好像写得不够详细，一方面是时间有些吃紧（现在已经是23：53了哈哈哈哈哈，今天晚上看英雄联盟世界赛半决赛去了，blg三比零赢了！很开心！），另一方面是我还不太确定自己要不要把知识写得太详细，毕竟具体细节不清楚的话我也可以翻我在visual studio中的代码或者直接问chatgpt。嗯，还需要纠结一会。

所以这就是今天的记录啦！明天应该就能把STL的所有内容都学完，然后就剩下两个稍微大一（**亿**）点点的练习项目，看看什么时候再敲一下，然后就能开始啃C++ primer plus了。
